{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://mise.jdx.dev/schema/mise-settings.json",
  "title": "Mise Settings Schema",
  "description": "JSON schema for mise settings.toml configuration file",
  "type": "object",
  "patternProperties": {
    "^[a-zA-Z0-9_]+$": {
      "oneOf": [
        {
          "$ref": "#/definitions/setting"
        },
        {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9_]+$": {
              "$ref": "#/definitions/setting"
            }
          },
          "additionalProperties": false
        }
      ]
    }
  },
  "additionalProperties": false,
  "definitions": {
    "setting": {
      "type": "object",
      "properties": {
        "aliases": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Alternative names for this setting"
        },
        "default": {
          "description": "Default value for this setting"
        },
        "default_docs": {
          "type": "string",
          "description": "Documentation for the default value shown in docs"
        },
        "deprecated": {
          "type": "string",
          "description": "Deprecation message if this setting is deprecated"
        },
        "description": {
          "type": "string",
          "description": "Brief description of what this setting does"
        },
        "deserialize_with": {
          "type": "string",
          "description": "Custom deserialization function to use"
        },
        "docs": {
          "type": "string",
          "description": "Detailed documentation for this setting"
        },
        "enum": {
          "type": "array",
          "description": "List of allowed values for this setting",
          "items": {
            "oneOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "minItems": 1,
                "maxItems": 2
              },
              {
                "type": "string"
              }
            ]
          }
        },
        "env": {
          "type": "string",
          "description": "Environment variable name that can set this setting"
        },
        "hide": {
          "type": "boolean",
          "description": "Whether to hide this setting from documentation"
        },
        "optional": {
          "type": "boolean",
          "description": "Whether this setting is optional"
        },
        "parse_env": {
          "type": "string",
          "enum": [
            "bool_string",
            "list_by_comma",
            "list_by_colon",
            "set_by_comma",
            "parse_url_replacements"
          ],
          "description": "How to parse the environment variable value"
        },
        "rust_type": {
          "type": "string",
          "description": "Rust type used internally for this setting"
        },
        "type": {
          "type": "string",
          "enum": [
            "Bool",
            "String",
            "Integer",
            "Path",
            "Url",
            "Duration",
            "ListString",
            "ListPath",
            "SetString",
            "IndexMap<String, String>"
          ],
          "description": "Type of this setting"
        }
      },
      "required": ["description"],
      "additionalProperties": false
    }
  }
}
