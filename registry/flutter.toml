description = "Flutter is an open source framework for building beautiful, natively compiled, multi-platform applications from a single codebase"

[[backends]]
full = "http:flutter"

[backends.options]
version_expr = 'fromJSON(body).releases | filter({#.channel == "stable"}) | map({#.version}) | sortVersions()'
version_list_url = "https://storage.googleapis.com/flutter_infra_release/releases/releases_linux.json"
# Default URL for macos/windows (.zip archives)
# arch() maps: x64 -> "" (no suffix), arm64 -> "_arm64"
url = 'https://storage.googleapis.com/flutter_infra_release/releases/stable/{{ os() }}/flutter_{{ os() }}{{ arch(x64="", arm64="_arm64") }}_{{ version | replace(from="-stable", to="") }}-stable.zip'

# Linux uses .tar.xz instead of .zip
[backends.options.platforms.linux-x64]
url = 'https://storage.googleapis.com/flutter_infra_release/releases/stable/linux/flutter_linux_{{ version | replace(from="-stable", to="") }}-stable.tar.xz'

# Note: Flutter doesn't officially provide linux-arm64 builds, but use correct format if they add support
[backends.options.platforms.linux-arm64]
url = 'https://storage.googleapis.com/flutter_infra_release/releases/stable/linux/flutter_linux_arm64_{{ version | replace(from="-stable", to="") }}-stable.tar.xz'

[[backends]]
full = "asdf:mise-plugins/mise-flutter"

[[backends]]
full = "vfox:mise-plugins/vfox-flutter"
