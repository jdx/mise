# yaml-language-server: $schema=https://raw.githubusercontent.com/aquaproj/aqua/main/json-schema/registry.json
packages:
  - type: http
    repo_owner: flutter
    repo_name: flutter
    description: Flutter SDK - Google's UI toolkit for building beautiful, natively compiled applications
    version_source: github_tag
    version_filter: Version matches "^\\d+\\.\\d+\\.\\d+$"
    files:
      - name: flutter
        src: flutter/bin/flutter
      - name: dart
        src: flutter/bin/dart
    version_constraint: "false"
    version_overrides:
      - version_constraint: "true"
        url: https://storage.googleapis.com/flutter_infra_release/releases/{{.Vars.channel}}/{{.OS}}/flutter_{{.OS}}_{{trimV .Version}}-{{.Vars.channel}}.{{.Format}}
        vars:
          - name: channel
            default: stable
        format: zip
        replacements:
          darwin: macos
        overrides:
          - goos: linux
            format: tar.xz
          - goos: windows
            goarch: arm64
            url: https://storage.googleapis.com/flutter_infra_release/releases/{{.Vars.channel}}/{{.OS}}/flutter_{{.OS}}_{{trimV .Version}}-{{.Vars.channel}}.{{.Format}}
          - goarch: arm64
            url: https://storage.googleapis.com/flutter_infra_release/releases/{{.Vars.channel}}/{{.OS}}/flutter_{{.OS}}_{{.Arch}}_{{trimV .Version}}-{{.Vars.channel}}.{{.Format}}
